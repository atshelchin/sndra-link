<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SNDRA.LINK</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
    src="https://tj.appsdata.org/api/script.js"
    data-site-id="f9186c1df727"
    defer
></script>
</head>

<body class="bg-gray-50 min-h-screen">
    <!-- First Screen - Main Content -->
    <div id="mainScreen" class="min-h-screen flex flex-col relative">
        <!-- Top Right Controls -->
        <div class="absolute top-4 right-4 z-50 flex items-center gap-2 sm:gap-3">
            <!-- Language Switcher -->
            <div class="flex gap-0 border border-gray-300 rounded-lg overflow-hidden bg-white shadow-sm">
                <button onclick="setLanguage('zh')" id="langZh"
                    class="px-2 sm:px-3 py-1.5 text-xs font-medium transition bg-gray-900 text-white">
                    ä¸­æ–‡
                </button>
                <button onclick="setLanguage('en')" id="langEn"
                    class="px-2 sm:px-3 py-1.5 text-xs font-medium transition bg-white text-gray-700 hover:bg-gray-100">
                    EN
                </button>
            </div>
            <!-- GitHub Link -->
            <a href="https://github.com/atshelchin/sndra-link" target="_blank"
               class="p-1.5 text-gray-600 hover:text-gray-900 transition rounded-lg hover:bg-white bg-white shadow-sm"
               title="View on GitHub">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.12-1.47-1.12-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.28 1.08 2.84.82.09-.64.35-1.08.63-1.33-2.22-.25-4.55-1.11-4.55-4.92 0-1.08.39-1.96 1.03-2.65-.1-.25-.45-1.26.1-2.62 0 0 .84-.27 2.75 1.03A9.56 9.56 0 0 1 12 6.8c.85 0 1.71.11 2.52.33 1.91-1.3 2.75-1.03 2.75-1.03.55 1.36.2 2.37.1 2.62.64.69 1.03 1.57 1.03 2.65 0 3.82-2.33 4.67-4.55 4.92.36.31.56.92.56 1.85v2.74c0 .27.16.59.66.5A10 10 0 0 0 22 12 10 10 0 0 0 12 2z" />
                </svg>
            </a>
        </div>

        <div class="flex-1 flex items-center justify-center py-8 px-4">
            <div class="max-w-2xl w-full">
                <!-- Header -->
                <div class="text-center my-8">
                    <h1 class="text-5xl sm:text-6xl font-bold text-gray-900 mb-3">SNDRA.LINK</h1>
                    <p class="text-lg text-gray-600" data-i18n="subtitle">å…è´¹çŸ­é“¾æ¥ç”ŸæˆæœåŠ¡</p>
                </div>

        <!-- Main Card with Flip Animation -->
        <div class="bg-white rounded-xl shadow-xl p-6 sm:p-8 relative" style="perspective: 1000px;">
            <div id="formContainer" class="transition-all duration-500" style="transform-style: preserve-3d;">
                <!-- Simple Short Link Form (Front) -->
                <div id="simpleFormContainer" class="space-y-4">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-xl font-semibold text-gray-800" data-i18n="generate-title">ç”ŸæˆçŸ­é“¾æ¥</h2>
                        <button type="button" id="showAdvanced"
                            class="text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1">
                            <span data-i18n="switch-to-advanced">åˆ‡æ¢åˆ°é«˜çº§æ¨¡å¼</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                            </svg>
                        </button>
                    </div>
                    <form id="simpleForm" class="space-y-4">
                        <div>
                            <label for="simpleUrl" class="block text-sm font-medium text-gray-700 mb-2">
                                <span data-i18n="input-label">è¾“å…¥é•¿ç½‘å€</span> <span class="text-red-500">*</span>
                            </label>
                            <input type="url" id="simpleUrl"
                                class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                data-i18n-placeholder="input-placeholder"
                                placeholder="https://example.com/very/long/url/with/many/parameters"
                                required>
                        </div>
                        <button type="submit"
                            class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition font-semibold shadow-md"
                            data-i18n="button-generate">
                            ğŸ”— ç”ŸæˆçŸ­é“¾æ¥
                        </button>
                    </form>
                    <div id="simpleResult" class="mt-4"></div>
                </div>

                <!-- Advanced Campaign Builder (Back) -->
                <div id="advancedFormContainer" class="hidden space-y-4">
                    <div class="flex items-center justify-between mb-4 gap-2">
                        <h2 class="text-lg sm:text-xl font-semibold text-gray-800 flex-shrink min-w-0" data-i18n="advanced-title">Campaign URL Builder</h2>
                        <button type="button" id="showSimple"
                            class="text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1 whitespace-nowrap flex-shrink-0">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
                            </svg>
                            <span data-i18n="switch-to-simple">è¿”å›åŸºç¡€æ¨¡å¼</span>
                        </button>
                    </div>
                    <form id="myForm" class="space-y-4">
                        <div>
                            <label for="website" class="block text-sm font-medium text-gray-700 mb-2">
                                <span data-i18n="utm-website-label">ç›®æ ‡ç½‘å€</span> <span class="text-red-500">*</span>
                            </label>
                            <input type="url" id="website" name="website"
                                class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                                data-i18n-placeholder="utm-website-placeholder"
                                placeholder="https://example.com"
                                required>
                        </div>

                        <div>
                            <label for="campaign" class="flex items-center text-sm font-medium text-gray-700 mb-2 group flex-wrap">
                                <span data-i18n="utm-campaign-label">Campaign Name</span>
                                <span class="ml-1.5 text-xs text-gray-400 hidden sm:inline">(utm_campaign)</span>
                                <div class="relative ml-1.5">
                                    <span class="cursor-help text-gray-400 hover:text-gray-600">
                                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                                        </svg>
                                    </span>
                                    <div class="invisible group-hover:visible absolute left-6 top-0 z-10 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg">
                                        <span data-i18n="utm-campaign-hint">æ´»åŠ¨æ ‡è¯†ï¼Œä¾‹å¦‚ï¼šåŒ 11 ä¿ƒé”€ã€æ–°å“å‘å¸ƒ</span>
                                    </div>
                                </div>
                            </label>
                            <input type="text" id="campaign" name="campaign"
                                class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                data-i18n-placeholder="utm-campaign-placeholder"
                                placeholder="summer_sale">
                        </div>

                        <!-- Two columns on desktop, single on mobile -->
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div>
                                <label for="source" class="flex items-center text-sm font-medium text-gray-700 mb-2 group flex-wrap">
                                    <span data-i18n="utm-source-label">Source</span>
                                    <span class="ml-1.5 text-xs text-gray-400 hidden sm:inline">(utm_source)</span>
                                    <div class="relative ml-1.5">
                                        <span class="cursor-help text-gray-400 hover:text-gray-600">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                                            </svg>
                                        </span>
                                        <div class="invisible group-hover:visible absolute left-6 top-0 z-10 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg">
                                            <span data-i18n="utm-source-hint">è®¿å®¢æ¥æºå¹³å°ï¼Œä¾‹å¦‚ï¼šgoogleã€facebookã€newsletter</span>
                                        </div>
                                    </div>
                                </label>
                                <input type="text" id="source" name="source"
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                    data-i18n-placeholder="utm-source-placeholder"
                                    placeholder="google">
                            </div>

                            <div>
                                <label for="medium" class="flex items-center text-sm font-medium text-gray-700 mb-2 group flex-wrap">
                                    <span data-i18n="utm-medium-label">Medium</span>
                                    <span class="ml-1.5 text-xs text-gray-400 hidden sm:inline">(utm_medium)</span>
                                    <div class="relative ml-1.5">
                                        <span class="cursor-help text-gray-400 hover:text-gray-600">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                                            </svg>
                                        </span>
                                        <div class="invisible group-hover:visible absolute left-6 top-0 z-10 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg">
                                            <span data-i18n="utm-medium-hint">æ¨å¹¿åª’ä»‹ï¼Œä¾‹å¦‚ï¼šcpcï¼ˆä»˜è´¹å¹¿å‘Šï¼‰ã€emailã€social</span>
                                        </div>
                                    </div>
                                </label>
                                <input type="text" id="medium" name="medium"
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                    data-i18n-placeholder="utm-medium-placeholder"
                                    placeholder="cpc">
                            </div>
                        </div>

                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div>
                                <label for="content" class="flex items-center text-sm font-medium text-gray-700 mb-2 group flex-wrap">
                                    <span data-i18n="utm-content-label">Content</span>
                                    <span class="ml-1.5 text-xs text-gray-400 hidden sm:inline">(utm_content)</span>
                                    <div class="relative ml-1.5">
                                        <span class="cursor-help text-gray-400 hover:text-gray-600">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                                            </svg>
                                        </span>
                                        <div class="invisible group-hover:visible absolute left-6 top-0 z-10 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg">
                                            <span data-i18n="utm-content-hint">åŒºåˆ†åŒä¸€æ¥æºçš„ä¸åŒå†…å®¹ï¼Œä¾‹å¦‚ï¼šbanner_adã€text_link</span>
                                        </div>
                                    </div>
                                </label>
                                <input type="text" id="content" name="content"
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                    data-i18n-placeholder="utm-content-placeholder"
                                    placeholder="banner_ad">
                            </div>

                            <div>
                                <label for="term" class="flex items-center text-sm font-medium text-gray-700 mb-2 group flex-wrap">
                                    <span data-i18n="utm-term-label">Term</span>
                                    <span class="ml-1.5 text-xs text-gray-400 hidden sm:inline">(utm_term)</span>
                                    <div class="relative ml-1.5">
                                        <span class="cursor-help text-gray-400 hover:text-gray-600">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                                            </svg>
                                        </span>
                                        <div class="invisible group-hover:visible absolute left-6 top-0 z-10 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg">
                                            <span data-i18n="utm-term-hint">ä»˜è´¹æœç´¢å…³é”®è¯ï¼Œç”¨äºè¿½è¸ªå¹¿å‘Šå…³é”®è¯æ•ˆæœ</span>
                                        </div>
                                    </div>
                                </label>
                                <input type="text" id="term" name="term"
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                    data-i18n-placeholder="utm-term-placeholder"
                                    placeholder="running+shoes">
                            </div>
                        </div>

                        <div class="flex space-x-4 pt-4">
                            <button type="submit"
                                class="flex-1 bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition font-semibold shadow-md"
                                data-i18n="utm-button-generate">
                                ç”Ÿæˆ UTM é“¾æ¥
                            </button>
                            <button type="button" id="shortenlink"
                                class="flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition font-semibold shadow-md"
                                data-i18n="utm-button-shorten">
                                ç”Ÿæˆå¹¶ç¼©çŸ­é“¾æ¥
                            </button>
                        </div>
                    </form>
                    <div id="result" class="break-all mt-4 p-4 rounded-lg"></div>
                </div>
            </div>
        </div>

            </div>
        </div>

        <!-- Scroll Indicator -->
        <div class="flex flex-col items-center py-8">
            <p class="text-sm text-gray-500 mb-2" data-i18n="scroll-hint">å‘ä¸‹æ»šåŠ¨æŸ¥çœ‹å¸¸è§é—®é¢˜</p>
            <button onclick="document.getElementById('faqSection').scrollIntoView({behavior: 'smooth'})"
                    class="animate-bounce text-gray-400 hover:text-gray-600 transition">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- Second Screen - FAQ -->
    <div id="faqSection" class="min-h-screen bg-white py-16 px-4">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-12 text-center" data-i18n="faq-title">å¸¸è§é—®é¢˜</h2>

            <div class="grid md:grid-cols-2 gap-6 mb-12">
                <div class="bg-gray-50 rounded-xl p-6 hover:shadow-md transition">
                    <h3 class="font-semibold text-gray-900 text-lg mb-3" data-i18n="faq-home-1q">â“ çŸ­é“¾æ¥ä¼šè¿‡æœŸå—ï¼Ÿ</h3>
                    <p class="text-gray-600 text-sm leading-relaxed" data-i18n="faq-home-1a">
                        ä¸ä¼šï¼æ‰€æœ‰ç”Ÿæˆçš„çŸ­é“¾æ¥æ°¸ä¹…æœ‰æ•ˆï¼Œåªè¦æœåŠ¡åœ¨è¿è¡Œå°±ä¸ä¼šè¿‡æœŸã€‚æˆ‘ä»¬æ‰¿è¯ºè‡³å°‘è¿è¡Œåˆ° 2030 å¹´ 12 æœˆã€‚
                    </p>
                </div>
                <div class="bg-gray-50 rounded-xl p-6 hover:shadow-md transition">
                    <h3 class="font-semibold text-gray-900 text-lg mb-3" data-i18n="faq-home-2q">â“ éœ€è¦æ³¨å†Œè´¦å·å—ï¼Ÿ</h3>
                    <p class="text-gray-600 text-sm leading-relaxed" data-i18n="faq-home-2a">
                        å®Œå…¨ä¸éœ€è¦ï¼æ— éœ€æ³¨å†Œã€æ— éœ€ç™»å½•ï¼Œç›´æ¥ä½¿ç”¨ã€‚æˆ‘ä»¬ä¸æ”¶é›†ä»»ä½•ä¸ªäººä¿¡æ¯ã€‚
                    </p>
                </div>
                <div class="bg-gray-50 rounded-xl p-6 hover:shadow-md transition">
                    <h3 class="font-semibold text-gray-900 text-lg mb-3" data-i18n="faq-home-3q">â“ Campaign URL Builder æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
                    <p class="text-gray-600 text-sm leading-relaxed" data-i18n="faq-home-3a">
                        è¿™æ˜¯ä¸€ä¸ªé«˜çº§åŠŸèƒ½ï¼Œå¯ä»¥ä¸ºä½ çš„é“¾æ¥æ·»åŠ  UTM å‚æ•°ï¼Œç”¨äºè¿½è¸ªè¥é”€æ´»åŠ¨çš„æµé‡æ¥æºå’Œæ•ˆæœã€‚é€‚åˆè¥é”€äººå‘˜å’Œæ•°æ®åˆ†æå¸ˆä½¿ç”¨ã€‚
                    </p>
                </div>
                <div class="bg-gray-50 rounded-xl p-6 hover:shadow-md transition">
                    <h3 class="font-semibold text-gray-900 text-lg mb-3" data-i18n="faq-home-4q">â“ æœåŠ¡çœŸçš„å…è´¹å—ï¼Ÿ</h3>
                    <p class="text-gray-600 text-sm leading-relaxed" data-i18n="faq-home-4a">
                        æ˜¯çš„ï¼100% å…è´¹ï¼Œæ— å¹¿å‘Šï¼Œæ— é™åˆ¶ã€‚è¿™æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæˆ‘ä»¬æ‰¿è¯ºæ°¸ä¹…å…è´¹è¿è¡Œã€‚
                    </p>
                </div>
            </div>

            <!-- More Info Link -->
            <div class="text-center">
                <a href="/commitment.html"
                   class="inline-flex items-center gap-2 px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition font-medium">
                    <span data-i18n="faq-more">æŸ¥çœ‹å®Œæ•´æœåŠ¡æ‰¿è¯º</span>
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </a>
            </div>

            <!-- Footer -->
            <div class="text-center mt-16 text-sm text-gray-500">
                <p data-i18n="footer-text">å®‰å…¨ Â· å¯é  Â· æ°¸ä¹…å…è´¹</p>
            </div>
        </div>
    </div>

    <script>
        // Multi-language support
        const translations = {
            zh: {
                subtitle: "å…è´¹çŸ­é“¾æ¥ç”ŸæˆæœåŠ¡",
                "badge-free": "100% å…è´¹",
                "badge-commitment": "ç¬¬ä¸€ä¸ªäº”å¹´æ‰¿è¯º (2025-12~2030-12)",
                "badge-permanent": "é“¾æ¥æ°¸ä¹…æœ‰æ•ˆ",
                "generate-title": "ç”ŸæˆçŸ­é“¾æ¥",
                "input-label": "è¾“å…¥é•¿ç½‘å€",
                "input-placeholder": "https://example.com/very/long/url/with/many/parameters",
                "button-generate": "ğŸ”— ç”ŸæˆçŸ­é“¾æ¥",
                "advanced-section": "é«˜çº§åŠŸèƒ½",
                "advanced-title": "è¥é”€æ´»åŠ¨è¿½è¸ªé“¾æ¥",
                "advanced-subtitle": "(Campaign URL Builder)",
                "switch-to-advanced": "åˆ‡æ¢åˆ°é«˜çº§æ¨¡å¼",
                "switch-to-simple": "è¿”å›åŸºç¡€æ¨¡å¼",
                "utm-website-label": "ç›®æ ‡ç½‘å€",
                "utm-website-placeholder": "https://example.com",
                "utm-website-hint": "ğŸ“Œ ç›®æ ‡ç½‘ç«™çš„å®Œæ•´ URL",
                "utm-info": "<strong>UTM å‚æ•°è¯´æ˜ï¼š</strong>ç”¨äºè¿½è¸ªè¥é”€æ´»åŠ¨çš„æµé‡æ¥æºå’Œæ•ˆæœ",
                "utm-campaign-label": "æ´»åŠ¨åç§°",
                "utm-campaign-placeholder": "summer_sale",
                "utm-campaign-hint": "æ´»åŠ¨æ ‡è¯†ï¼Œä¾‹å¦‚ï¼šåŒ 11 ä¿ƒé”€ã€æ–°å“å‘å¸ƒ",
                "utm-source-label": "æµé‡æ¥æº",
                "utm-source-placeholder": "google",
                "utm-source-hint": "è®¿å®¢æ¥æºå¹³å°ï¼Œä¾‹å¦‚ï¼šgoogleã€facebookã€newsletter",
                "utm-medium-label": "åª’ä»‹ç±»å‹",
                "utm-medium-placeholder": "cpc",
                "utm-medium-hint": "æ¨å¹¿åª’ä»‹ï¼Œä¾‹å¦‚ï¼šcpcï¼ˆä»˜è´¹å¹¿å‘Šï¼‰ã€emailã€social",
                "utm-content-label": "å†…å®¹æ ‡è¯†",
                "utm-content-placeholder": "banner_ad",
                "utm-content-hint": "åŒºåˆ†åŒä¸€æ¥æºçš„ä¸åŒå†…å®¹ï¼Œä¾‹å¦‚ï¼šbanner_adã€text_link",
                "utm-term-label": "å…³é”®è¯",
                "utm-term-placeholder": "running+shoes",
                "utm-term-hint": "ä»˜è´¹æœç´¢å…³é”®è¯ï¼Œç”¨äºè¿½è¸ªå¹¿å‘Šå…³é”®è¯æ•ˆæœ",
                "utm-button-generate": "ç”Ÿæˆ UTM é“¾æ¥",
                "utm-button-shorten": "ç”Ÿæˆå¹¶ç¼©çŸ­é“¾æ¥",
                "footer-text": "å®‰å…¨ Â· å¯é  Â· æ°¸ä¹…å…è´¹",
                // Messages
                "msg-enter-url": "è¯·è¾“å…¥ç½‘å€",
                "msg-generating": "ç”Ÿæˆä¸­...",
                "msg-failed": "ç”Ÿæˆå¤±è´¥",
                "msg-success": "çŸ­é“¾æ¥ç”ŸæˆæˆåŠŸï¼š",
                "msg-utm-success": "UTM é“¾æ¥ç”ŸæˆæˆåŠŸï¼š",
                "msg-permanent-hint": "æ­¤é“¾æ¥æ°¸ä¹…æœ‰æ•ˆï¼Œåªè¦æœåŠ¡è¿è¡Œå°±ä¸ä¼šè¿‡æœŸ",
                "btn-copy": "å¤åˆ¶",
                "msg-copied": "å·²å¤åˆ¶",
                "msg-copy-failed": "å¤åˆ¶å¤±è´¥",
                "msg-enter-website": "è¯·è¾“å…¥ç½‘å€",
                // FAQ
                "faq-title": "å¸¸è§é—®é¢˜",
                "faq-home-1q": "â“ çŸ­é“¾æ¥ä¼šè¿‡æœŸå—ï¼Ÿ",
                "faq-home-1a": "ä¸ä¼šï¼æ‰€æœ‰ç”Ÿæˆçš„çŸ­é“¾æ¥æ°¸ä¹…æœ‰æ•ˆï¼Œåªè¦æœåŠ¡åœ¨è¿è¡Œå°±ä¸ä¼šè¿‡æœŸã€‚æˆ‘ä»¬æ‰¿è¯ºè‡³å°‘è¿è¡Œåˆ° 2030 å¹´ 12 æœˆã€‚",
                "faq-home-2q": "â“ éœ€è¦æ³¨å†Œè´¦å·å—ï¼Ÿ",
                "faq-home-2a": "å®Œå…¨ä¸éœ€è¦ï¼æ— éœ€æ³¨å†Œã€æ— éœ€ç™»å½•ï¼Œç›´æ¥ä½¿ç”¨ã€‚æˆ‘ä»¬ä¸æ”¶é›†ä»»ä½•ä¸ªäººä¿¡æ¯ã€‚",
                "faq-home-3q": "â“ Campaign URL Builder æ˜¯ä»€ä¹ˆï¼Ÿ",
                "faq-home-3a": "è¿™æ˜¯ä¸€ä¸ªé«˜çº§åŠŸèƒ½ï¼Œå¯ä»¥ä¸ºä½ çš„é“¾æ¥æ·»åŠ  UTM å‚æ•°ï¼Œç”¨äºè¿½è¸ªè¥é”€æ´»åŠ¨çš„æµé‡æ¥æºå’Œæ•ˆæœã€‚é€‚åˆè¥é”€äººå‘˜å’Œæ•°æ®åˆ†æå¸ˆä½¿ç”¨ã€‚",
                "faq-home-4q": "â“ æœåŠ¡çœŸçš„å…è´¹å—ï¼Ÿ",
                "faq-home-4a": "æ˜¯çš„ï¼100% å…è´¹ï¼Œæ— å¹¿å‘Šï¼Œæ— é™åˆ¶ã€‚è¿™æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæˆ‘ä»¬æ‰¿è¯ºæ°¸ä¹…å…è´¹è¿è¡Œã€‚",
                "faq-more": "æŸ¥çœ‹å®Œæ•´æœåŠ¡æ‰¿è¯º",
                "scroll-hint": "å‘ä¸‹æ»šåŠ¨æŸ¥çœ‹å¸¸è§é—®é¢˜"
            },
            en: {
                subtitle: "Free URL Shortening Service",
                "badge-free": "100% Free",
                "badge-commitment": "First 5-Year Commitment (2025-12~2030-12)",
                "badge-permanent": "Links Never Expire",
                "generate-title": "Generate Short Link",
                "input-label": "Enter Long URL",
                "input-placeholder": "https://example.com/very/long/url/with/many/parameters",
                "button-generate": "ğŸ”— Generate Short Link",
                "advanced-section": "Advanced Features",
                "advanced-title": "Campaign URL Builder",
                "advanced-subtitle": "(Marketing Campaign Tracking)",
                "switch-to-advanced": "Switch to Advanced Mode",
                "switch-to-simple": "Back to Basic Mode",
                "utm-website-label": "Target URL",
                "utm-website-placeholder": "https://example.com",
                "utm-website-hint": "ğŸ“Œ Full URL of the target website",
                "utm-info": "<strong>UTM Parameters:</strong> Track traffic sources and campaign effectiveness",
                "utm-campaign-label": "Campaign Name",
                "utm-campaign-placeholder": "summer_sale",
                "utm-campaign-hint": "Campaign identifier, e.g., summer_sale, product_launch",
                "utm-source-label": "Source",
                "utm-source-placeholder": "google",
                "utm-source-hint": "Traffic source, e.g., google, facebook, newsletter",
                "utm-medium-label": "Medium",
                "utm-medium-placeholder": "cpc",
                "utm-medium-hint": "Medium type, e.g., cpc (paid ads), email, social",
                "utm-content-label": "Content",
                "utm-content-placeholder": "banner_ad",
                "utm-content-hint": "Differentiate content from same source, e.g., banner_ad, text_link",
                "utm-term-label": "Term",
                "utm-term-placeholder": "running+shoes",
                "utm-term-hint": "Paid search keywords for tracking ad keyword performance",
                "utm-button-generate": "Generate UTM Link",
                "utm-button-shorten": "Generate & Shorten",
                "footer-text": "Secure Â· Reliable Â· Forever Free",
                // Messages
                "msg-enter-url": "Please enter a URL",
                "msg-generating": "Generating...",
                "msg-failed": "Generation failed",
                "msg-success": "Short link generated successfully:",
                "msg-utm-success": "UTM link generated successfully:",
                "msg-permanent-hint": "This link is permanent and will never expire as long as the service is running",
                "btn-copy": "Copy",
                "msg-copied": "Copied!",
                "msg-copy-failed": "Failed",
                "msg-enter-website": "Please enter a website URL",
                // FAQ
                "faq-title": "FAQ",
                "faq-home-1q": "â“ Do short links expire?",
                "faq-home-1a": "No! All generated short links are permanent and will never expire as long as the service is running. We commit to running at least until December 2030.",
                "faq-home-2q": "â“ Do I need to register?",
                "faq-home-2a": "Not at all! No registration, no login required. Just use it directly. We don't collect any personal information.",
                "faq-home-3q": "â“ What is Campaign URL Builder?",
                "faq-home-3a": "It's an advanced feature that adds UTM parameters to your links for tracking marketing campaign traffic sources and effectiveness. Perfect for marketers and data analysts.",
                "faq-home-4q": "â“ Is the service really free?",
                "faq-home-4a": "Yes! 100% free, no ads, no limits. This is an open-source project, and we promise to keep it free forever.",
                "faq-more": "View Full Service Commitment",
                "scroll-hint": "Scroll down to view FAQ"
            }
        };

        let currentLang = 'zh';

        function setLanguage(lang) {
            currentLang = lang;
            document.documentElement.lang = lang === 'zh' ? 'zh-CN' : 'en';

            // Update button styles
            document.getElementById('langZh').className = lang === 'zh'
                ? 'px-3 py-1.5 text-xs font-medium transition bg-gray-900 text-white'
                : 'px-3 py-1.5 text-xs font-medium transition bg-white text-gray-700 hover:bg-gray-100';

            document.getElementById('langEn').className = lang === 'en'
                ? 'px-3 py-1.5 text-xs font-medium transition bg-gray-900 text-white'
                : 'px-3 py-1.5 text-xs font-medium transition bg-white text-gray-700 hover:bg-gray-100';

            // Update all translatable elements
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang][key]) {
                    // Use innerHTML for translations containing HTML tags
                    if (translations[lang][key].includes('<')) {
                        element.innerHTML = translations[lang][key];
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });

            // Update placeholders
            document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
                const key = element.getAttribute('data-i18n-placeholder');
                if (translations[lang][key]) {
                    element.placeholder = translations[lang][key];
                }
            });

            // Clear previous results when switching language
            // (because they contain language-specific text that won't update)
            document.getElementById('simpleResult').innerHTML = '';
            document.getElementById('result').innerHTML = '';

            // Save language preference
            localStorage.setItem('language', lang);
        }

        // Load saved language preference on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedLang = localStorage.getItem('language') || 'zh';
            setLanguage(savedLang);
        });

        // Toggle between simple and advanced forms
        document.getElementById('showAdvanced')?.addEventListener('click', function() {
            document.getElementById('simpleFormContainer').classList.add('hidden');
            document.getElementById('advancedFormContainer').classList.remove('hidden');
            // Clear results when switching
            document.getElementById('simpleResult').innerHTML = '';
            document.getElementById('result').innerHTML = '';
        });

        document.getElementById('showSimple')?.addEventListener('click', function() {
            document.getElementById('advancedFormContainer').classList.add('hidden');
            document.getElementById('simpleFormContainer').classList.remove('hidden');
            // Clear results when switching
            document.getElementById('simpleResult').innerHTML = '';
            document.getElementById('result').innerHTML = '';
        });

        // Helper function to get translation
        function t(key) {
            return translations[currentLang][key] || key;
        }

        // Simple form - direct short link generation
        document.getElementById('simpleForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const url = document.getElementById('simpleUrl').value;
            const resultDiv = document.getElementById('simpleResult');

            if (!url) {
                resultDiv.innerHTML = `<div class="p-4 bg-red-50 border border-red-200 rounded-lg text-red-700">âš ï¸ ${t('msg-enter-url')}</div>`;
                return;
            }

            resultDiv.innerHTML = `<div class="p-4 bg-blue-50 border border-blue-200 rounded-lg text-blue-700">â³ ${t('msg-generating')}</div>`;

            try {
                const response = await fetch('/', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ link: url })
                });

                if (!response.ok) {
                    throw new Error(t('msg-failed'));
                }

                const data = await response.json();
                resultDiv.innerHTML = `
                    <div class="p-4 bg-green-50 border border-green-200 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-sm text-gray-600 mb-2">âœ… ${t('msg-success')}</p>
                                <a href="${data.short}" target="_blank" class="text-lg font-semibold text-blue-600 hover:text-blue-800 break-all">${data.short}</a>
                                <p class="text-xs text-gray-500 mt-2">ğŸ’¡ ${t('msg-permanent-hint')}</p>
                            </div>
                            <button onclick="copyToClipboard('${data.short}')" class="ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm">
                                ${t('btn-copy')}
                            </button>
                        </div>
                    </div>
                `;
            } catch (error) {
                resultDiv.innerHTML = `<div class="p-4 bg-red-50 border border-red-200 rounded-lg text-red-700">âŒ ${t('msg-failed')}ï¼š${error.message}</div>`;
            }
        });

        // Parse UTM parameters from URL and populate form fields
        function parseAndPopulateUTM(urlString) {
            try {
                const url = new URL(urlString);

                // Extract UTM parameters
                const utmParams = {
                    campaign: url.searchParams.get('utm_campaign'),
                    source: url.searchParams.get('utm_source'),
                    medium: url.searchParams.get('utm_medium'),
                    content: url.searchParams.get('utm_content'),
                    term: url.searchParams.get('utm_term')
                };

                // Populate form fields if UTM parameters exist
                if (utmParams.campaign) document.getElementById('campaign').value = utmParams.campaign;
                if (utmParams.source) document.getElementById('source').value = utmParams.source;
                if (utmParams.medium) document.getElementById('medium').value = utmParams.medium;
                if (utmParams.content) document.getElementById('content').value = utmParams.content;
                if (utmParams.term) document.getElementById('term').value = utmParams.term;

                // Remove UTM parameters from the URL and update website field
                url.searchParams.delete('utm_campaign');
                url.searchParams.delete('utm_source');
                url.searchParams.delete('utm_medium');
                url.searchParams.delete('utm_content');
                url.searchParams.delete('utm_term');

                return url.toString();
            } catch (e) {
                return urlString;
            }
        }

        // Listen for website input changes to auto-parse UTM parameters
        document.getElementById('website').addEventListener('blur', function() {
            const urlString = this.value.trim();
            if (urlString) {
                const cleanUrl = parseAndPopulateUTM(urlString);
                this.value = cleanUrl;
            }
        });

        // UTM URL generation helper
        function generateUTMUrl(baseUrl, utmParams) {
            if (!baseUrl) {
                throw new Error(t('msg-enter-website'));
            }

            const url = new URL(baseUrl);

            for (let key in utmParams) {
                if (utmParams[key]) {
                    url.searchParams.set(`utm_${key}`, utmParams[key]);
                }
            }

            return url.toString();
        }

        // Advanced form - Generate UTM URL
        document.getElementById('myForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const website = document.getElementById('website').value;
            const campaign = document.getElementById('campaign').value;
            const source = document.getElementById('source').value;
            const medium = document.getElementById('medium').value;
            const content = document.getElementById('content').value;
            const term = document.getElementById('term').value;

            const resultDiv = document.getElementById('result');

            try {
                const utmUrl = generateUTMUrl(website, { campaign, source, medium, content, term });
                resultDiv.innerHTML = `
                    <div class="p-4 bg-green-50 border border-green-200 rounded-lg">
                        <div class="flex items-start justify-between gap-4">
                            <div class="flex-1">
                                <p class="text-sm text-gray-600 mb-2">âœ… ${t('msg-utm-success')}</p>
                                <p class="text-sm text-blue-600 break-all font-mono">${utmUrl}</p>
                            </div>
                            <button onclick="copyToClipboard('${utmUrl.replace(/'/g, "\\'")}')" class="flex-shrink-0 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm">
                                ${t('btn-copy')}
                            </button>
                        </div>
                    </div>
                `;
            } catch (error) {
                resultDiv.innerHTML = `<div class="p-4 bg-red-50 border border-red-200 rounded-lg text-red-700">âŒ ${error.message}</div>`;
            }
        });

        // Advanced form - Generate and shorten UTM URL
        document.getElementById('shortenlink').addEventListener('click', async (e) => {
            e.preventDefault();
            const website = document.getElementById('website').value;
            const campaign = document.getElementById('campaign').value;
            const source = document.getElementById('source').value;
            const medium = document.getElementById('medium').value;
            const content = document.getElementById('content').value;
            const term = document.getElementById('term').value;

            const resultDiv = document.getElementById('result');

            let utmUrl;
            try {
                utmUrl = generateUTMUrl(website, { campaign, source, medium, content, term });
            } catch (error) {
                resultDiv.innerHTML = `<div class="p-4 bg-red-50 border border-red-200 rounded-lg text-red-700">âŒ ${error.message}</div>`;
                return;
            }

            resultDiv.innerHTML = `<div class="p-4 bg-blue-50 border border-blue-200 rounded-lg text-blue-700">â³ ${t('msg-generating')}</div>`;

            try {
                const response = await fetch('/', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ link: utmUrl })
                });

                if (!response.ok) {
                    throw new Error(t('msg-failed'));
                }

                const data = await response.json();
                resultDiv.innerHTML = `
                    <div class="p-4 bg-green-50 border border-green-200 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div class="flex-1">
                                <p class="text-sm text-gray-600 mb-2">âœ… ${t('msg-success')}</p>
                                <a href="${data.short}" target="_blank" class="text-lg font-semibold text-blue-600 hover:text-blue-800 break-all">${data.short}</a>
                                <p class="text-xs text-gray-500 mt-2">ğŸ’¡ ${t('msg-permanent-hint')}</p>
                            </div>
                            <button onclick="copyToClipboard('${data.short}')" class="ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm">
                                ${t('btn-copy')}
                            </button>
                        </div>
                    </div>
                `;
            } catch (error) {
                resultDiv.innerHTML = `<div class="p-4 bg-red-50 border border-red-200 rounded-lg text-red-700">âŒ ${t('msg-failed')}ï¼š${error.message}</div>`;
            }
        });

        // Copy to clipboard function with visual feedback
        function copyToClipboard(text) {
            // Get the button element that triggered this
            const btn = event.target.closest('button');

            // Fallback for older browsers
            const copyText = () => {
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    return navigator.clipboard.writeText(text);
                } else {
                    // Fallback method
                    const textArea = document.createElement('textarea');
                    textArea.value = text;
                    textArea.style.position = 'fixed';
                    textArea.style.left = '-999999px';
                    document.body.appendChild(textArea);
                    textArea.select();
                    try {
                        document.execCommand('copy');
                        document.body.removeChild(textArea);
                        return Promise.resolve();
                    } catch (err) {
                        document.body.removeChild(textArea);
                        return Promise.reject(err);
                    }
                }
            };

            copyText().then(() => {
                // Success feedback
                btn.textContent = 'âœ… ' + translations[currentLang]['msg-copied'];
                btn.classList.add('bg-green-600', 'hover:bg-green-700');
                btn.classList.remove('bg-blue-600', 'hover:bg-blue-700');

                // Reset after 2 seconds
                setTimeout(() => {
                    btn.textContent = translations[currentLang]['btn-copy'];
                    btn.classList.remove('bg-green-600', 'hover:bg-green-700');
                    btn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                }, 2000);
            }).catch(() => {
                // Error feedback
                btn.textContent = 'âŒ ' + translations[currentLang]['msg-copy-failed'];
                btn.classList.add('bg-red-600', 'hover:bg-red-700');
                btn.classList.remove('bg-blue-600', 'hover:bg-blue-700');

                // Reset after 2 seconds
                setTimeout(() => {
                    btn.textContent = translations[currentLang]['btn-copy'];
                    btn.classList.remove('bg-red-600', 'hover:bg-red-700');
                    btn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                }, 2000);
            });
        }
    </script>
</body>

</html>